= form_for @note, html: { class: 'form-horizontal' } do |f|
  - if f.object.errors.any?
    .form-group.alert.alert-danger
      = f.object.errors.full_messages.to_sentence
  .form-group
    = f.label :title, class: 'form-label col-md-2 autofocus'
    .col-md-10
      = f.text_field :title, class: 'form-control', tabindex: 1
  .form-group
    = f.label :kind, class: 'form-label col-md-2'
    .col-md-10
      %p
        - current_user.notes.pluck(:kind).uniq.compact.each do |kind|
          %span.label.label-default.insert-into-tag-list{ style: 'cursor: pointer; margin-left: 0.5em' }= kind
      = f.text_field :kind, class: 'form-control', tabindex: 2
  .mb-3
    = f.label :body, class: 'form-label col-md-2'
    = f.hidden_field :body, id: 'trix-editor-content'
    <trix-editor input="trix-editor-content" autofocus="true"></trix-editor>
  .form-group
    = f.label :meta, class: 'form-label col-md-2'
    .col-md-10
      = f.text_area :meta, rows: 3, class: 'form-control', tabindex: 4
  .form-group
    = f.label :note_tag_list, class: 'form-label col-md-2'
    .col-md-10
      %p
        - Note.note_tag_counts.order('taggings_count DESC').where.not(id: f.object.note_tags.pluck(:id)).each do |tag|
          %span.label.label-default.insert-into-tag-list{ style: 'cursor: pointer' }= tag.name
      = f.text_field :note_tag_list, value: f.object.note_tag_list.to_s, class: 'form-control', tabindex: 4
  .form-group
    .col-md-offset-2.col-md-10
      %button.btn.btn-primary{ type: 'submit', tabindex: 5 } Save
      = link_to 'Cancel', :notes, class: 'btn'
